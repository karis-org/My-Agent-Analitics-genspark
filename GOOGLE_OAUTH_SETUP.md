# Google OAuth 設定手順（初心者向け）

**所要時間**: 約10分

---

## 📋 準備するもの

1. Googleアカウント（Gmailアドレス）
2. このアプリのURL: `https://3000-i1kyslh8gn8plpo5b4s6r-b9b802c4.sandbox.novita.ai`

---

## ステップ1: Google Cloud Consoleにアクセス

### 1-1. ブラウザで以下のURLを開く
```
https://console.cloud.google.com/
```

### 1-2. Googleアカウントでログイン
- お持ちのGmailアドレスとパスワードでログイン

---

## ステップ2: プロジェクトを作成

### 2-1. 画面左上の「プロジェクト選択」をクリック

### 2-2. 「新しいプロジェクト」をクリック

### 2-3. プロジェクト情報を入力
- **プロジェクト名**: `my-agent-analytics`（任意）
- **組織**: そのまま（選択不要）
- **場所**: そのまま（選択不要）

### 2-4. 「作成」ボタンをクリック

---

## ステップ3: OAuth同意画面を設定

### 3-1. 左側メニューから「APIとサービス」→「OAuth同意画面」を選択

### 3-2. ユーザータイプを選択
- ✅ **外部** を選択
- 「作成」ボタンをクリック

### 3-3. アプリ情報を入力

#### 必須項目:
- **アプリ名**: `My Agent Analytics`
- **ユーザーサポートメール**: あなたのGmailアドレスを選択
- **デベロッパーの連絡先情報**: あなたのGmailアドレスを入力

#### その他の項目: 空欄のままでOK

### 3-4. 「保存して次へ」を3回クリック
- スコープ: スキップ（「保存して次へ」）
- テストユーザー: スキップ（「保存して次へ」）
- 概要: 「ダッシュボードに戻る」をクリック

---

## ステップ4: 認証情報を作成

### 4-1. 左側メニューから「認証情報」をクリック

### 4-2. 「認証情報を作成」→「OAuthクライアントID」を選択

### 4-3. アプリケーションの種類を選択
- ✅ **ウェブアプリケーション** を選択

### 4-4. ウェブアプリケーション情報を入力

#### 名前:
```
My Agent Analytics Web Client
```

#### 承認済みのリダイレクトURI:
**重要**: 以下のURLを正確に入力してください

```
https://3000-i1kyslh8gn8plpo5b4s6r-b9b802c4.sandbox.novita.ai/auth/google/callback
```

**コピー手順**:
1. 上記のURLをマウスでドラッグして選択
2. Ctrl+C（Mac: Cmd+C）でコピー
3. Google Cloud Consoleの入力欄にCtrl+V（Mac: Cmd+V）で貼り付け
4. 「URIを追加」ボタンをクリック

### 4-5. 「作成」ボタンをクリック

---

## ステップ5: APIキーをコピー

### 5-1. ポップアップが表示されます

画面に以下の2つの情報が表示されます:
- **クライアントID**: 長い英数字（例: 123456789012-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com）
- **クライアントシークレット**: 短い英数字（例: GOCSPX-ABcdEFghIJklMNopQRstUVwxYZ12）

### 5-2. クライアントIDをコピー
1. クライアントIDの右側にある「コピー」アイコンをクリック
2. メモ帳などに貼り付けて保存

### 5-3. クライアントシークレットをコピー
1. クライアントシークレットの右側にある「コピー」アイコンをクリック
2. メモ帳などに貼り付けて保存

### 5-4. 「OK」ボタンをクリック

---

## ステップ6: APIキーを設定ファイルに入力

### 6-1. メモ帳を開く

以下の内容をコピーして、メモ帳に貼り付けてください:

```
GOOGLE_CLIENT_ID=ここにクライアントIDを貼り付け
GOOGLE_CLIENT_SECRET=ここにクライアントシークレットを貼り付け
```

### 6-2. 実際の値を入力

例:
```
GOOGLE_CLIENT_ID=123456789012-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-ABcdEFghIJklMNopQRstUVwxYZ12
```

### 6-3. このファイルを私（AI）に共有

このメモ帳の内容をチャットに貼り付けて送信してください。
私が自動的に設定ファイルに反映します。

---

## ✅ 完了確認

設定が完了すると、以下のURLでログインできるようになります:

```
https://3000-i1kyslh8gn8plpo5b4s6r-b9b802c4.sandbox.novita.ai/auth/login
```

「Googleでログイン」ボタンをクリックして、Googleのログイン画面が表示されれば成功です！

---

## ❓ トラブルシューティング

### Q1: 「このアプリは確認されていません」と表示される
**A**: これは正常です。以下の手順で進んでください:
1. 画面左下の「詳細」をクリック
2. 「My Agent Analytics（安全ではないページ）に移動」をクリック

### Q2: 「リダイレクトURIが一致しません」エラー
**A**: リダイレクトURIが正しく入力されていません。
1. Google Cloud Consoleの「認証情報」画面に戻る
2. 作成したOAuthクライアントIDをクリック
3. 「承認済みのリダイレクトURI」を再確認
4. 正確に入力し直してください（スペースや改行がないか確認）

### Q3: クライアントIDやシークレットが分からなくなった
**A**: Google Cloud Consoleで再確認できます:
1. 「認証情報」画面を開く
2. 作成したOAuthクライアントIDをクリック
3. クライアントIDとシークレットが表示されます

---

## 📞 サポート

分からないことがあれば、チャットで質問してください。
スクリーンショットを添付していただけると、より正確にサポートできます。
